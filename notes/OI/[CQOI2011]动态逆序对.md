# [CQOI2011]动态逆序对

## 题目描述
给出 $1\sim n$ 的一个排列，按照某种顺序依次删除 $m$ 个元素，你的任务是在每次删除一个元素**之前**统计整个序列的逆序对数。

## 解法
考虑加上一维时间 $t$, 表示这个数在第 $t$ 次询问被删除, 此时每一个数可以用一个三元组表示 $(val_i, id_i, t_i)$, 表示这个数值为 $val$, 在序列中下标为 $id$, 被删除的时间为 $t$ (没有被删除则设为 $\rm {INF}$ )

当一个数 $j$ 被删除时:
1. 满足 $i<j \land t_i>t_j \land val_i > val_j$ 三元组 $i$ 不再与其构成逆序对
2. 满足 $i>j \land t_i>t_j \land val_i < val_j$ 三元组 $i$ 不再与其构成逆序对

对两个约束条件分别做一次 $\rm {CDQ}$ 分治求出对于删除每个数, 逆序对减少了多少。用原序列的逆序对分别减去减少的数就是答案